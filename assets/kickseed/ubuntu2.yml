# Kickstart file for a basic install.
install

# Specifies the language
lang en_US.UTF-8

# Specifies the keyboard layout
keyboard us

# Skip Red Hat key input (disabled for Centos)
# key --skip

# Forces the text installer to be used (saves on time because a GUI doesnâ€™t need to be loaded)
text

# Skips the display of any GUI during install
skipx

#Root password
rootpw --disabled

#Initial user
user ubuntu --fullname "Ubuntu User"  --password cisco123


# Used with an HTTP install to specify where the install files are located
url --url {{ .env.metadata.ubuntu_baseurl }}

network --bootproto=dhcp --device=enp94s0f0

preseed --owner disk-detect disk-detect/iscsi/enable boolean true
preseed --owner d-i partman-lvm/device_remove_lvm boolean true
preseed --owner d-i partman-md/device_remove_md boolean true
preseed --owner d-i partman-lvm/confirm boolean true
preseed --owner d-i partman/choose_partition select finish
preseed --owner d-i partman/confirm_write_new_label boolean true
preseed --owner d-i partman/confirm boolean true
preseed --owner d-i partman/confirm_nooverwrite boolean true
preseed --owner d-i partman-md/confirm_nooverwrite boolean true
preseed --owner d-i partman-lvm/confirm_nooverwrite boolean true


# Repo and package setup
{{ template "package.ks" . }}

# Disk partition
{{ template "partition.ks" . }}

# OS configuration
{{ template "os.ks" . }}

# Cloud-init-network configuration
{{ template "cloudinit.ks" . }}

reboot
